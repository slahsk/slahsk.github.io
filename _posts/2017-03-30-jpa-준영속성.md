---
layout: post
title:  준영속성
date:   2017-03-30
categories: jpa
tags: java jpa
excerpt: 준영속성
---


# 준영속

**준영속 상태의 엔티티는 영속성 컨텍스트가 제공하는 기능을 사용할 수 없다.**

 - `em.datch(entiy)` 특정 엔티티만 준영속 상태로 전환
 - `em.clear()` 영속성 컨텍스트를 완전히 초기화
 - `em.close()` 영속성 컨텍스트 종료

### 준영속 상태의 특징
  - 거이 비영속 상태에 가깝다.
  - 식별자 값을 가지고 있다.
  - 지연 로딩을 할 수 없다(영속성 컨텍스트가 관리하지 않으므로).

# 병합(merge)

  **준영속 상타의 엔티티를 다시 영속 상태로 변경**

### 비영속 병합
  병합은 준영속, 비영속을 신경 쓰지 않는다. 식별자 값으로 엔티티를 조회할 수 있으면 불러서 병합하고 조회할 수 없으며 새로 생성해서 병합한다.

  따라서 병합은 **save or update** 기능을 수행한다.
